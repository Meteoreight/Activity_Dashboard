# アクティビティダッシュボード

これは、アクティビティを視覚化するために設計されたWebベースのタスクトラッカーです。ローカルデータベースモードとファイル編集モードの2つの動作モードをサポートしています。

## 動作モード

このアプリケーションは2つの異なる動作モードをサポートしています：

### 🗄️ ローカルDBモード
- **データ保存:** ブラウザのIndexedDBによる永続的ストレージ
- **自動保存:** すべての変更が自動的に保存
- **オフライン対応:** 読み込み後は完全にオフラインで動作
- **データ永続性:** ブラウザの再起動やアップデートでもデータが保持
- **ファイル操作:** CSV/Excelファイルをデータベースにインポート

### 📁 ファイル編集モード（デフォルト）
- **直接ファイルアクセス:** File System Access APIを使用してCSVファイルを直接編集
- **リアルタイム同期:** 変更が元のファイルに直接保存
- **ファイルシステム統合:** コンピュータ上のファイルと連携
- **ブラウザサポート:** File System Access APIをサポートするモダンブラウザが必要
- **高度な操作:** 手動エクスポートなしでファイルの開く、編集、保存が可能

上部ツールバーのトグルボタンでモードを切り替えることができます。

## 主な機能

*   **デュアル動作モード:** ローカルデータベースモードとファイル編集モードから選択
*   **ガントチャート表示:** タスクとその期間をタイムラインで視覚化
*   **カンバンボード表示:** 担当者ごとにタスクを整理
*   **データインポート/エクスポート:** CSVおよびExcelファイルをサポート
*   **ブラウザ内編集:** ブラウザで直接アクティビティの追加、編集、削除
*   **自動永続化:** 選択したモードに基づいて変更を自動保存
*   **多言語対応:** 英語と日本語を切り替え可能

## 使い方

`index.html`ファイルをモダンなWebブラウザで開くだけです。

## データの保存について

データの保存動作は選択した動作モードによって異なります：

### 🗄️ ローカルDBモード

このモードでは、すべてのアクティビティデータがブラウザの**IndexedDBデータベース**に保存されます：

- **保存場所**: ブラウザの内部データベース（自動管理）
- **形式**: バイナリデータベース形式（通常のファイルとしてはアクセス不可）
- **スコープ**: ブラウザとドメインごとに固有
- **永続性**: ブラウザセッションやコンピュータの再起動をまたいで保持

**✅ データが安全な場合:**
- 通常のブラウザ使用（閉じる/開く）
- コンピュータの再起動
- ブラウザのアップデート
- アプリケーションの通常使用

**⚠️ データが失われる可能性:**
- ブラウザ履歴/サイトデータを手動で削除した場合
- ブラウザを完全にアンインストールした場合
- ディスク容量が極端に不足した場合
- プライベート/シークレットモードの使用（データが保存されない）

### 📁 ファイル編集モード

このモードでは、データがコンピュータ上のCSVファイルに直接保存されます：

- **保存場所**: コンピュータのファイルシステム
- **形式**: 標準的なCSVファイル（任意のテキストエディタで編集可能）
- **スコープ**: デバイスやアプリケーション間でポータブル
- **永続性**: 標準的なファイルシステムの永続性

**✅ データが安全な場合:**
- ブラウザの再起動やアップデート
- コンピュータ間でのファイル移動
- 任意のCSV対応アプリケーションでの使用
- 標準的なファイルシステムバックアップ

**⚠️ データが失われる可能性:**
- ファイルの手動削除
- バックアップなしでのハードドライブ故障
- ファイルの破損

### データ管理の推奨事項

**ローカルDBモードの場合:**
1. **定期的なエクスポート**: 月1回程度「データエクスポート」ボタンでCSVバックアップを作成
2. **複数ブラウザの使用**: 冗長性のため異なるブラウザでアプリを使用
3. **クラウドバックアップ**: エクスポートしたCSVファイルをクラウドストレージに保存

**ファイル編集モードの場合:**
1. **ファイルバックアップ**: 定期的なバックアップルーチンにCSVファイルを含める
2. **バージョン管理**: 変更履歴の追跡にGitなどのツールの使用を検討
3. **クラウド同期**: クラウド同期フォルダ（Google Drive、Dropbox、OneDrive）にファイルを保存

### データへのアクセス方法

**ローカルDBモードの場合:**
- **ブラウザで確認**: 開発者ツール（F12）→ Application → IndexedDB → TaskTrackerDB
- **エクスポート**: 「データエクスポート」ボタンでCSVファイル作成
- **インポート**: CSVファイルを読み込んでデータ復元や追加

**ファイル編集モードの場合:**
- **直接アクセス**: コンピュータ上の標準的なCSV形式ファイル
- **外部編集**: Excel、Google スプレッドシート、任意のテキストエディタで編集
- **統合**: 既存のファイル管理ワークフローと連携

## ファイル構成

このプロジェクトは、保守性を向上させるために、HTML、CSS、JavaScriptがそれぞれ別のファイルに分割されています。

```
/
├── index.html              # アプリケーションのメインHTMLファイル
├── css/
│   └── style.css           # アプリケーションのカスタムスタイル
├── js/
│   ├── main.js             # メインのアプリケーションロジック、イベントリスナーの初期化
│   ├── database.js         # IndexedDBラッパーとローカルデータ永続化レイヤー
│   ├── data.js             # データ解析（CSV/Excel）、サンプルデータ、データベース統合
│   ├── ui.js               # UIの更新、セレクター、モーダルの管理
│   ├── gantt.js            # ガントチャート表示の描画ロジック
│   ├── kanban.js           # カンバンボード表示の描画ロジック
│   └── i18n.js             # 翻訳文字列と言語切り替えロジック
├── data/
│   └── data.csv            # デフォルトサンプルデータ（初回使用時に自動読み込み）
├── base.html               # 元の単一ファイル版（参照用）
├── README.md               # 英語版のREADME
└── README_JP.md            # このファイル (日本語版)
```
